<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 10 arulesViz | Ciencia de Datos - UMA</title>
  <meta name="description" content="Material usado como Introducción a Ciencia de Datos - ETSI Informática" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 10 arulesViz | Ciencia de Datos - UMA" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Material usado como Introducción a Ciencia de Datos - ETSI Informática" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 10 arulesViz | Ciencia de Datos - UMA" />
  
  <meta name="twitter:description" content="Material usado como Introducción a Ciencia de Datos - ETSI Informática" />
  

<meta name="author" content="Domingo López, Ángel Mora" />


<meta name="date" content="2022-05-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ejercicio-en-laboratorio.html"/>
<link rel="next" href="social-network-analysis.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Ciencia de datos con R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introducción</a></li>
<li class="chapter" data-level="2" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html"><i class="fa fa-check"></i><b>2</b> Análisis Exploratorio de Datos</a>
<ul>
<li class="chapter" data-level="2.1" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#importación-de-datos"><i class="fa fa-check"></i><b>2.1</b> Importación de datos</a></li>
<li class="chapter" data-level="2.2" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#dplyr-para-manipulación-de-datos"><i class="fa fa-check"></i><b>2.2</b> <code>dplyr</code> para Manipulación de Datos</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#backends"><i class="fa fa-check"></i><b>2.2.1</b> Backends</a></li>
<li class="chapter" data-level="2.2.2" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#filtrado-de-filas-con-filter"><i class="fa fa-check"></i><b>2.2.2</b> Filtrado de filas con <code>filter()</code></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#ordenar-filas-con-arrange"><i class="fa fa-check"></i><b>2.3</b> Ordenar filas con <code>arrange()</code></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="a-tibble-1-2.html"><a href="a-tibble-1-2.html"><i class="fa fa-check"></i><b>3</b> A tibble: 1 × 2</a>
<ul>
<li class="chapter" data-level="3.0.1" data-path="a-tibble-1-2.html"><a href="a-tibble-1-2.html#selección-de-columnas-select"><i class="fa fa-check"></i><b>3.0.1</b> Selección de columnas <code>select()</code></a></li>
<li class="chapter" data-level="3.1" data-path="a-tibble-1-2.html"><a href="a-tibble-1-2.html#añadir-o-renombrar-variables-con-mutate"><i class="fa fa-check"></i><b>3.1</b> Añadir o renombrar variables con <code>mutate()</code></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="a-tibble-1-2.html"><a href="a-tibble-1-2.html#rename"><i class="fa fa-check"></i><b>3.1.1</b> <code>rename()</code></a></li>
<li class="chapter" data-level="3.1.2" data-path="a-tibble-1-2.html"><a href="a-tibble-1-2.html#uso-del-operador"><i class="fa fa-check"></i><b>3.1.2</b> Uso del operador <code>%&gt;%</code></a></li>
<li class="chapter" data-level="3.1.3" data-path="a-tibble-1-2.html"><a href="a-tibble-1-2.html#otros-verbos-auxiliares"><i class="fa fa-check"></i><b>3.1.3</b> Otros verbos auxiliares</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="a-tibble-1-2-1.html"><a href="a-tibble-1-2-1.html"><i class="fa fa-check"></i><b>4</b> A tibble: 1 × 2</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="a-tibble-1-2-1.html"><a href="a-tibble-1-2-1.html#operaciones-con-dos-tablas"><i class="fa fa-check"></i><b>4.0.1</b> Operaciones con dos tablas</a></li>
<li class="chapter" data-level="4.1" data-path="a-tibble-1-2-1.html"><a href="a-tibble-1-2-1.html#proyecto-starwarks"><i class="fa fa-check"></i><b>4.1</b> Proyecto Starwarks</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reglas-de-asociación.html"><a href="reglas-de-asociación.html"><i class="fa fa-check"></i><b>5</b> Reglas de Asociación</a>
<ul>
<li class="chapter" data-level="5.1" data-path="reglas-de-asociación.html"><a href="reglas-de-asociación.html#introducción-1"><i class="fa fa-check"></i><b>5.1</b> Introducción</a></li>
<li class="chapter" data-level="5.2" data-path="reglas-de-asociación.html"><a href="reglas-de-asociación.html#detectando-y-prediciendo-tendencias"><i class="fa fa-check"></i><b>5.2</b> Detectando y prediciendo tendencias</a></li>
<li class="chapter" data-level="5.3" data-path="reglas-de-asociación.html"><a href="reglas-de-asociación.html#reglas-de-asociación-de-transacciones"><i class="fa fa-check"></i><b>5.3</b> Reglas de Asociación de transacciones</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="parómetros-de-apriori.html"><a href="parómetros-de-apriori.html"><i class="fa fa-check"></i><b>6</b> Parómetros de <strong>apriori</strong></a>
<ul>
<li class="chapter" data-level="6.1" data-path="parómetros-de-apriori.html"><a href="parómetros-de-apriori.html#reglas-de-asociación---preprocesamiento"><i class="fa fa-check"></i><b>6.1</b> Reglas de Asociación - preprocesamiento</a></li>
<li class="chapter" data-level="6.2" data-path="parómetros-de-apriori.html"><a href="parómetros-de-apriori.html#discretización-de-items"><i class="fa fa-check"></i><b>6.2</b> Discretización de items</a></li>
<li class="chapter" data-level="6.3" data-path="parómetros-de-apriori.html"><a href="parómetros-de-apriori.html#tipo-de-dato-transactions"><i class="fa fa-check"></i><b>6.3</b> Tipo de dato <em>transactions</em></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="métodos-de-arules.html"><a href="métodos-de-arules.html"><i class="fa fa-check"></i><b>7</b> Métodos de arules</a></li>
<li class="chapter" data-level="8" data-path="operaciones-con-reglas.html"><a href="operaciones-con-reglas.html"><i class="fa fa-check"></i><b>8</b> Operaciones con reglas</a></li>
<li class="chapter" data-level="9" data-path="ejercicio-en-laboratorio.html"><a href="ejercicio-en-laboratorio.html"><i class="fa fa-check"></i><b>9</b> Ejercicio en Laboratorio</a></li>
<li class="chapter" data-level="10" data-path="arulesviz.html"><a href="arulesviz.html"><i class="fa fa-check"></i><b>10</b> arulesViz</a>
<ul>
<li class="chapter" data-level="10.1" data-path="arulesviz.html"><a href="arulesviz.html#construyendo-un-sistema-recomendador"><i class="fa fa-check"></i><b>10.1</b> Construyendo un sistema recomendador</a></li>
<li class="chapter" data-level="10.2" data-path="arulesviz.html"><a href="arulesviz.html#sistema-de-recomendación"><i class="fa fa-check"></i><b>10.2</b> Sistema de recomendación</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="social-network-analysis.html"><a href="social-network-analysis.html"><i class="fa fa-check"></i><b>11</b> Social Network Analysis</a>
<ul>
<li class="chapter" data-level="11.0.1" data-path="social-network-analysis.html"><a href="social-network-analysis.html#gephi"><i class="fa fa-check"></i><b>11.0.1</b> Gephi</a></li>
<li class="chapter" data-level="11.0.2" data-path="social-network-analysis.html"><a href="social-network-analysis.html#cytoscape"><i class="fa fa-check"></i><b>11.0.2</b> Cytoscape</a></li>
<li class="chapter" data-level="11.1" data-path="social-network-analysis.html"><a href="social-network-analysis.html#r-for-sna"><i class="fa fa-check"></i><b>11.1</b> R for SNA</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="elementos-de-una-red.html"><a href="elementos-de-una-red.html"><i class="fa fa-check"></i><b>12</b> Elementos de una red</a>
<ul>
<li class="chapter" data-level="12.1" data-path="elementos-de-una-red.html"><a href="elementos-de-una-red.html#representación-de-redes"><i class="fa fa-check"></i><b>12.1</b> Representación de redes</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="elementos-de-una-red.html"><a href="elementos-de-una-red.html#grafos-como-listas-de-arcos"><i class="fa fa-check"></i><b>12.1.1</b> Grafos como listas de arcos</a></li>
<li class="chapter" data-level="12.1.2" data-path="elementos-de-una-red.html"><a href="elementos-de-una-red.html#grafos-como-matrices"><i class="fa fa-check"></i><b>12.1.2</b> Grafos como matrices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="introducción-a-igraph.html"><a href="introducción-a-igraph.html"><i class="fa fa-check"></i><b>13</b> Introducción a <strong>igraph</strong></a>
<ul>
<li class="chapter" data-level="13.1" data-path="introducción-a-igraph.html"><a href="introducción-a-igraph.html#acceder-a-elementos-de-grado"><i class="fa fa-check"></i><b>13.1</b> Acceder a elementos de grado</a></li>
<li class="chapter" data-level="13.2" data-path="introducción-a-igraph.html"><a href="introducción-a-igraph.html#construirmodificar-un-grafo"><i class="fa fa-check"></i><b>13.2</b> Construir/Modificar un grafo</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="visualización.html"><a href="visualización.html"><i class="fa fa-check"></i><b>14</b> Visualización</a>
<ul>
<li class="chapter" data-level="14.1" data-path="visualización.html"><a href="visualización.html#layout"><i class="fa fa-check"></i><b>14.1</b> Layout</a></li>
<li class="chapter" data-level="14.2" data-path="visualización.html"><a href="visualización.html#dibujar-grafos-ponderados"><i class="fa fa-check"></i><b>14.2</b> Dibujar grafos ponderados</a></li>
<li class="chapter" data-level="14.3" data-path="visualización.html"><a href="visualización.html#cambiar-aspecto-y-propiedades-de-un-grafo"><i class="fa fa-check"></i><b>14.3</b> Cambiar aspecto y propiedades de un grafo</a></li>
<li class="chapter" data-level="14.4" data-path="visualización.html"><a href="visualización.html#ejemplos---plantillas"><i class="fa fa-check"></i><b>14.4</b> Ejemplos - plantillas</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="de-twitter.html"><a href="de-twitter.html"><i class="fa fa-check"></i><b>15</b> De Twitter</a></li>
<li class="chapter" data-level="16" data-path="exportar-grafos.html"><a href="exportar-grafos.html"><i class="fa fa-check"></i><b>16</b> Exportar grafos</a></li>
<li class="chapter" data-level="17" data-path="analysis-of-the-networks-to-extract-knowledge..html"><a href="analysis-of-the-networks-to-extract-knowledge..html"><i class="fa fa-check"></i><b>17</b> Analysis of the Networks to extract knowledge.</a></li>
<li class="chapter" data-level="18" data-path="centrality.html"><a href="centrality.html"><i class="fa fa-check"></i><b>18</b> Centrality</a>
<ul>
<li class="chapter" data-level="18.1" data-path="centrality.html"><a href="centrality.html#degree"><i class="fa fa-check"></i><b>18.1</b> Degree</a></li>
<li class="chapter" data-level="18.2" data-path="centrality.html"><a href="centrality.html#betweenness"><i class="fa fa-check"></i><b>18.2</b> Betweenness</a></li>
<li class="chapter" data-level="18.3" data-path="centrality.html"><a href="centrality.html#edge_betweenness"><i class="fa fa-check"></i><b>18.3</b> Edge_betweenness</a></li>
<li class="chapter" data-level="18.4" data-path="centrality.html"><a href="centrality.html#closeness"><i class="fa fa-check"></i><b>18.4</b> Closeness</a></li>
<li class="chapter" data-level="18.5" data-path="centrality.html"><a href="centrality.html#eigenvector"><i class="fa fa-check"></i><b>18.5</b> Eigenvector</a></li>
<li class="chapter" data-level="18.6" data-path="centrality.html"><a href="centrality.html#pagerank"><i class="fa fa-check"></i><b>18.6</b> Pagerank</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="paths.html"><a href="paths.html"><i class="fa fa-check"></i><b>19</b> Paths</a>
<ul>
<li class="chapter" data-level="19.1" data-path="paths.html"><a href="paths.html#diameter"><i class="fa fa-check"></i><b>19.1</b> Diameter</a></li>
<li class="chapter" data-level="19.2" data-path="paths.html"><a href="paths.html#caminos-y-distancias"><i class="fa fa-check"></i><b>19.2</b> Caminos y distancias</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>20</b> Clustering</a>
<ul>
<li class="chapter" data-level="20.1" data-path="clustering.html"><a href="clustering.html#transitivity"><i class="fa fa-check"></i><b>20.1</b> Transitivity</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="clustering.html"><a href="clustering.html#global-clustering"><i class="fa fa-check"></i><b>20.1.1</b> Global clustering:</a></li>
<li class="chapter" data-level="20.1.2" data-path="clustering.html"><a href="clustering.html#local-clustering"><i class="fa fa-check"></i><b>20.1.2</b> Local clustering</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="otras-medidas-y-definiciones.html"><a href="otras-medidas-y-definiciones.html"><i class="fa fa-check"></i><b>21</b> Otras medidas y definiciones</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ciencia de Datos - UMA</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="arulesviz" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">Capítulo 10</span> arulesViz<a href="arulesviz.html#arulesviz" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Vamos a usar el dataset Groceries para ver los comandos de visualización de reglas de asociación más interesantes.</p>
<p>Extraemos las reglas:
Apriori</p>
<p>Parameter specification:
confidence minval smax arem aval originalSupport maxtime support minlen
0.5 0.1 1 none FALSE TRUE 5 0.001 1
maxlen target ext
10 rules TRUE</p>
<p>Algorithmic control:
filter tree heap memopt load sort verbose
0.1 TRUE TRUE FALSE TRUE 2 TRUE</p>
<p>Absolute minimum support count: 9</p>
<p>set item appearances …[0 item(s)] done [0.00s].
set transactions …[169 item(s), 9835 transaction(s)] done [0.00s].
sorting and recoding items … [157 item(s)] done [0.00s].
creating transaction tree … done [0.00s].
checking subsets of size 1 2 3 4 5 6 done [0.01s].
writing … [5668 rule(s)] done [0.00s].
creating S4 object … done [0.00s].
set of 5668 rules
lhs rhs support confidence coverage<br />
[1] {honey} =&gt; {whole milk} 0.001118454 0.7333333 0.001525165
[2] {tidbits} =&gt; {rolls/buns} 0.001220132 0.5217391 0.002338587
[3] {cocoa drinks} =&gt; {whole milk} 0.001321810 0.5909091 0.002236909
[4] {pudding powder} =&gt; {whole milk} 0.001321810 0.5652174 0.002338587
[5] {cooking chocolate} =&gt; {whole milk} 0.001321810 0.5200000 0.002541942
[6] {cereals} =&gt; {whole milk} 0.003660397 0.6428571 0.005693950
lift count
[1] 2.870009 11<br />
[2] 2.836542 12<br />
[3] 2.312611 13<br />
[4] 2.212062 13<br />
[5] 2.035097 13<br />
[6] 2.515917 36</p>
<p>El comando básico de visualización de reglas es <strong>plot</strong>. Mostramos distintas opciones de uso de plot (colores).
<img src="_main_files/figure-html/unnamed-chunk-38-1.png" width="672" /><img src="_main_files/figure-html/unnamed-chunk-38-2.png" width="672" /><img src="_main_files/figure-html/unnamed-chunk-38-3.png" width="672" /></p>
<p>Opción de visualización interactiva:</p>
<p>Representación matricial de las reglas:</p>
<p>set of 52 rules
Itemsets in Antecedent (LHS)
[1] “{Instant food products,soda}”<br />
[2] “{soda,popcorn}”<br />
[3] “{flour,baking powder}”<br />
[4] “{ham,processed cheese}”<br />
[5] “{whole milk,Instant food products}”<br />
[6] “{other vegetables,curd,yogurt,whipped/sour cream}”<br />
[7] “{processed cheese,domestic eggs}”<br />
[8] “{tropical fruit,other vegetables,yogurt,white bread}”<br />
[9] “{hamburger meat,yogurt,whipped/sour cream}”<br />
[10] “{tropical fruit,other vegetables,whole milk,yogurt,domestic eggs}”<br />
[11] “{liquor,red/blush wine}”<br />
[12] “{other vegetables,yogurt,whipped/sour cream,cream cheese }”<br />
[13] “{yogurt,whipped/sour cream,hard cheese}”<br />
[14] “{tropical fruit,root vegetables,other vegetables,whole milk,rolls/buns}”<br />
[15] “{tropical fruit,whole milk,yogurt,sliced cheese}”<br />
[16] “{other vegetables,butter,sugar}”<br />
[17] “{whole milk,whipped/sour cream,hard cheese}”<br />
[18] “{other vegetables,hard cheese,domestic eggs}”<br />
[19] “{tropical fruit,other vegetables,whipped/sour cream,fruit/vegetable juice}”
[20] “{tropical fruit,onions,yogurt}”<br />
[21] “{tropical fruit,other vegetables,yogurt,domestic eggs}”<br />
[22] “{butter,yogurt,pastry}”<br />
[23] “{whole milk,butter,hard cheese}”<br />
[24] “{tropical fruit,other vegetables,butter,fruit/vegetable juice}”<br />
[25] “{whole milk,curd,yogurt,cream cheese }”<br />
[26] “{tropical fruit,other vegetables,hard cheese}”<br />
[27] “{other vegetables,whole milk,whipped/sour cream,napkins}”<br />
[28] “{citrus fruit,whole milk,cream cheese }”<br />
[29] “{tropical fruit,other vegetables,frozen fish}”<br />
[30] “{butter,yogurt,hard cheese}”<br />
[31] “{curd,yogurt,sugar}”<br />
[32] “{other vegetables,whole milk,butter,soda}”<br />
[33] “{whole milk,cream cheese ,sugar}”<br />
[34] “{frozen vegetables,specialty chocolate}”<br />
[35] “{citrus fruit,other vegetables,whole milk,cream cheese }”<br />
[36] “{tropical fruit,whipped/sour cream,shopping bags}”<br />
[37] “{citrus fruit,tropical fruit,grapes}”<br />
[38] “{other vegetables,butter,hard cheese}”<br />
[39] “{whole milk,butter,sliced cheese}”<br />
[40] “{citrus fruit,other vegetables,soda,fruit/vegetable juice}”<br />
[41] “{tropical fruit,other vegetables,whole milk,yogurt,oil}”<br />
[42] “{tropical fruit,grapes,fruit/vegetable juice}”<br />
[43] “{frankfurter,tropical fruit,domestic eggs}”<br />
[44] “{tropical fruit,whole milk,yogurt,frozen meals}”<br />
[45] “{other vegetables,curd,yogurt,cream cheese }”<br />
[46] “{root vegetables,whole milk,flour}”<br />
[47] “{citrus fruit,whole milk,sugar}”<br />
[48] “{tropical fruit,other vegetables,misc. beverages}”<br />
[49] “{ham,tropical fruit,other vegetables}”<br />
[50] “{citrus fruit,grapes,fruit/vegetable juice}”<br />
[51] “{whole milk,whipped/sour cream,rolls/buns,pastry}”<br />
Itemsets in Consequent (RHS)
[1] “{tropical fruit}” “{citrus fruit}”<br />
[3] “{root vegetables}” “{pip fruit}”<br />
[5] “{fruit/vegetable juice}” “{domestic eggs}”<br />
[7] “{whipped/sour cream}” “{butter}”<br />
[9] “{curd}” “{beef}”<br />
[11] “{bottled beer}” “{white bread}”<br />
[13] “{cream cheese }” “{sugar}”<br />
[15] “{salty snack}” “{hamburger meat}”<br />
<img src="_main_files/figure-html/unnamed-chunk-40-1.png" width="672" /></p>
<p>E interactiva:</p>
<p>Representación matricial mostrando los items:</p>
<p>Representación mediante grafos de las reglas (solo para conjuntos pequeños de reglas):</p>
<p><img src="_main_files/figure-html/unnamed-chunk-43-1.png" width="672" />Available control parameters (with default values):
layout = stress
circular = FALSE
ggraphdots = NULL
edges = <environment>
nodes = <environment>
nodetext = <environment>
colors = c(“#EE0000FF”, “#EEEEEEFF”)
engine = ggplot2
max = 100
verbose = FALSE
<img src="_main_files/figure-html/unnamed-chunk-43-2.png" width="672" /></p>
<p>El paquete Graphviz permite una mejor visualización:</p>
<p><img src="_main_files/figure-html/unnamed-chunk-44-1.png" width="672" /></p>
<p>Permite visualización dinámica:</p>
<div id="construyendo-un-sistema-recomendador" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> Construyendo un sistema recomendador<a href="arulesviz.html#construyendo-un-sistema-recomendador" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El dataset <em>lastfm.csv</em> del CV incluye las transacciones recogidas en una radio online que almacena el identificador del usuario, artista, sexo del usuario y el país.</p>
<p><strong>Objetivo</strong>: Construir un sistema de recomendación de grupos de música a los usuarios a partir de dataset anterior.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="arulesviz.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arules)</span>
<span id="cb42-2"><a href="arulesviz.html#cb42-2" aria-hidden="true" tabindex="-1"></a>lastfm <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/lastfm.csv&quot;</span>)</span>
<span id="cb42-3"><a href="arulesviz.html#cb42-3" aria-hidden="true" tabindex="-1"></a>lastfm[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>,]</span></code></pre></div>
<p>user artist sex country
1 1 red hot chili peppers f Germany
2 1 the black dahlia murder f Germany
3 1 goldfrapp f Germany
4 1 dropkick murphys f Germany
5 1 le tigre f Germany
6 1 schandmaul f Germany
7 1 edguy f Germany
8 1 jack johnson f Germany
9 1 eluveitie f Germany
10 1 the killers f Germany
11 1 judas priest f Germany
12 1 rob zombie f Germany
13 1 john mayer f Germany
14 1 the who f Germany
15 1 guano apes f Germany
16 1 the rolling stones f Germany
17 3 devendra banhart m United States
18 3 boards of canada m United States
19 3 cocorosie m United States
20 3 aphex twin m United States</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="arulesviz.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(lastfm<span class="sc">$</span>user)   <span class="do">## 289,955 filas</span></span></code></pre></div>
<p>[1] 289955</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="arulesviz.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(lastfm<span class="sc">$</span>user)</span></code></pre></div>
<p>[1] “integer”</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="arulesviz.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Necesitamos convertir este atributo a factor</span></span>
<span id="cb45-2"><a href="arulesviz.html#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co">#para poder analizarlo con paquete {\tt arules}</span></span>
<span id="cb45-3"><a href="arulesviz.html#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="arulesviz.html#cb45-4" aria-hidden="true" tabindex="-1"></a>lastfm<span class="sc">$</span>user <span class="ot">&lt;-</span> <span class="fu">factor</span>(lastfm<span class="sc">$</span>user)</span>
<span id="cb45-5"><a href="arulesviz.html#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejecuta en tu ordenador</span></span>
<span id="cb45-6"><a href="arulesviz.html#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co"># levels(lastfm$user)  ## 15,000 users</span></span>
<span id="cb45-7"><a href="arulesviz.html#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="co"># levels(lastfm$artist)  ## 1,004 artists</span></span></code></pre></div>
<p>Llamamos a <strong>apriori</strong>:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="arulesviz.html#cb46-1" aria-hidden="true" tabindex="-1"></a>reglas1 <span class="ot">&lt;-</span> <span class="fu">apriori</span>(lastfm,<span class="at">parameter=</span><span class="fu">list</span>(<span class="at">support=</span>.<span class="dv">01</span>, <span class="at">confidence=</span>.<span class="dv">5</span>))</span></code></pre></div>
<p>Apriori</p>
<p>Parameter specification:
confidence minval smax arem aval originalSupport maxtime support minlen
0.5 0.1 1 none FALSE TRUE 5 0.01 1
maxlen target ext
10 rules TRUE</p>
<p>Algorithmic control:
filter tree heap memopt load sort verbose
0.1 TRUE TRUE FALSE TRUE 2 TRUE</p>
<p>Absolute minimum support count: 2899</p>
<p>set item appearances …[0 item(s)] done [0.00s].
set transactions …[16165 item(s), 289955 transaction(s)] done [0.25s].
sorting and recoding items … [21 item(s)] done [0.00s].
creating transaction tree … done [0.08s].
checking subsets of size 1 2 done [0.00s].
writing … [19 rule(s)] done [0.00s].
creating S4 object … done [0.01s].</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="arulesviz.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inspect</span>(reglas1)</span></code></pre></div>
<pre><code> lhs                             rhs     support    confidence coverage  </code></pre>
<p>[1] {} =&gt; {sex=m} 0.73053750 0.7305375 1.00000000
[2] {country=Czech Republic} =&gt; {sex=m} 0.01039472 0.8033049 0.01293994
[3] {country=Mexico} =&gt; {sex=m} 0.01023607 0.7804365 0.01311583
[4] {country=Norway} =&gt; {sex=m} 0.01239503 0.7744021 0.01600593
[5] {country=Turkey} =&gt; {sex=m} 0.01088445 0.6627467 0.01642324
[6] {country=Italy} =&gt; {sex=m} 0.01501612 0.7615882 0.01971685
[7] {country=France} =&gt; {sex=m} 0.01707161 0.8302583 0.02056181
[8] {country=Australia} =&gt; {sex=m} 0.01497474 0.6776963 0.02209653
[9] {country=Canada} =&gt; {sex=m} 0.01568174 0.6563222 0.02389336
[10] {country=Spain} =&gt; {sex=m} 0.02482109 0.7720446 0.03214982
[11] {country=Netherlands} =&gt; {sex=m} 0.02690417 0.8064716 0.03336035
[12] {country=Finland} =&gt; {sex=m} 0.02661103 0.7596731 0.03502957
[13] {country=Russian Federation} =&gt; {sex=m} 0.03062544 0.7605344 0.04026832
[14] {country=Brazil} =&gt; {sex=m} 0.03001845 0.7300788 0.04111673
[15] {country=Sweden} =&gt; {sex=m} 0.03193254 0.7479603 0.04269283
[16] {country=Poland} =&gt; {sex=m} 0.03854391 0.6531471 0.05901261
[17] {country=Germany} =&gt; {sex=m} 0.06069907 0.7257433 0.08363712
[18] {country=United Kingdom} =&gt; {sex=m} 0.07730510 0.8110211 0.09531824
[19] {country=United States} =&gt; {sex=m} 0.13852839 0.6744182 0.20540429
lift count
[1] 1.0000000 211823
[2] 1.0996080 3014
[3] 1.0683045 2968
[4] 1.0600442 3594
[5] 0.9072043 3156
[6] 1.0425040 4354
[7] 1.1365033 4950
[8] 0.9276680 4342
[9] 0.8984100 4547
[10] 1.0568172 7197
[11] 1.1039428 7801
[12] 1.0398825 7716
[13] 1.0410615 8880
[14] 0.9993722 8704
[15] 1.0238492 9259
[16] 0.8940638 11176
[17] 0.9934374 17600
[18] 1.1101703 22415
[19] 0.9231808 40167</p>
<p>Comentario: En versiones anteriores de arules el anterior comando daba error. Teníamos que convertir a factor las variables discretas. Es un paquete <em>vivo</em> que va evolucionando día a día.</p>
<!-- El dataset no es de tipo transacciones.  -->
<!-- ## Preprocesamiento -->
<!-- Realizamos el preprocesamiento para poder usar apriori.   -->
<!-- ```{r} -->
<!-- lastfm$sex <- factor(lastfm$sex) -->
<!-- lastfm$country <- factor(lastfm$country) -->
<!-- reglas1 <- apriori(lastfm, parameter=list(support=.01, confidence=.5)) -->
<!-- inspect(head(reglas1)) -->
<!-- ``` -->
<p><strong>¿Cual es la recomendación que podemos obtener con estas reglas?</strong></p>
<p>No es el tipo de reglas que queremos obtener para nuestro sistema de recomendación.</p>
<p>Los datos deben ser manipulados para poder encontrar lo que nos interesa. Usaremos los Comandos: <strong>split, lapply</strong>.</p>
<p>Primero me quedo con una lista de lo que escucha cada usuario:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="arulesviz.html#cb49-1" aria-hidden="true" tabindex="-1"></a>lista.musica.por.usuario <span class="ot">&lt;-</span> <span class="fu">split</span>(<span class="at">x=</span>lastfm[,<span class="st">&quot;artist&quot;</span>],<span class="at">f=</span>lastfm<span class="sc">$</span>user)</span>
<span id="cb49-2"><a href="arulesviz.html#cb49-2" aria-hidden="true" tabindex="-1"></a>lista.musica.por.usuario[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span></code></pre></div>
<p>$<code>1</code>
[1] “red hot chili peppers” “the black dahlia murder”
[3] “goldfrapp” “dropkick murphys”<br />
[5] “le tigre” “schandmaul”<br />
[7] “edguy” “jack johnson”<br />
[9] “eluveitie” “the killers”<br />
[11] “judas priest” “rob zombie”<br />
[13] “john mayer” “the who”<br />
[15] “guano apes” “the rolling stones”</p>
<p>$<code>3</code>
[1] “devendra banhart” “boards of canada” “cocorosie”<br />
[4] “aphex twin” “animal collective” “atmosphere”<br />
[7] “joanna newsom” “air” “portishead”<br />
[10] “massive attack” “broken social scene” “arcade fire”<br />
[13] “plaid” “prefuse 73” “m83”<br />
[16] “the flashbulb” “pavement” “goldfrapp”<br />
[19] “amon tobin” “sage francis” “four tet”<br />
[22] “max richter” “autechre” “radiohead”<br />
[25] “neutral milk hotel” “beastie boys” “aesop rock”<br />
[28] “mf doom” “the books”</p>
<p>A continuación:</p>
<ul>
<li>Un grupo/cantante podría estar dos veces en un usuario: eliminar repeticiones</li>
<li>Convertir a formato transacciones</li>
<li>Mirar la música escuchada por los primeros usuarios</li>
</ul>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="arulesviz.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Eliminar duplicados  </span></span>
<span id="cb50-2"><a href="arulesviz.html#cb50-2" aria-hidden="true" tabindex="-1"></a>lista.musica.por.usuario <span class="ot">&lt;-</span> <span class="fu">lapply</span>(lista.musica.por.usuario,unique)</span>
<span id="cb50-3"><a href="arulesviz.html#cb50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-4"><a href="arulesviz.html#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertimos en transacciones la lista de música.</span></span>
<span id="cb50-5"><a href="arulesviz.html#cb50-5" aria-hidden="true" tabindex="-1"></a>lista.musica.por.usuario1 <span class="ot">&lt;-</span> <span class="fu">as</span>(lista.musica.por.usuario,<span class="st">&quot;transactions&quot;</span>)</span>
<span id="cb50-6"><a href="arulesviz.html#cb50-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-7"><a href="arulesviz.html#cb50-7" aria-hidden="true" tabindex="-1"></a>lista.musica.por.usuario[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code></pre></div>
<p>$<code>1</code>
[1] “red hot chili peppers” “the black dahlia murder”
[3] “goldfrapp” “dropkick murphys”<br />
[5] “le tigre” “schandmaul”<br />
[7] “edguy” “jack johnson”<br />
[9] “eluveitie” “the killers”<br />
[11] “judas priest” “rob zombie”<br />
[13] “john mayer” “the who”<br />
[15] “guano apes” “the rolling stones”</p>
<p>$<code>3</code>
[1] “devendra banhart” “boards of canada” “cocorosie”<br />
[4] “aphex twin” “animal collective” “atmosphere”<br />
[7] “joanna newsom” “air” “portishead”<br />
[10] “massive attack” “broken social scene” “arcade fire”<br />
[13] “plaid” “prefuse 73” “m83”<br />
[16] “the flashbulb” “pavement” “goldfrapp”<br />
[19] “amon tobin” “sage francis” “four tet”<br />
[22] “max richter” “autechre” “radiohead”<br />
[25] “neutral milk hotel” “beastie boys” “aesop rock”<br />
[28] “mf doom” “the books”</p>
<p>$<code>4</code>
[1] “tv on the radio” “tool”<br />
[3] “kyuss” “dj shadow”<br />
[5] “air” “a tribe called quest”<br />
[7] “the cinematic orchestra” “beck”<br />
[9] “bon iver” “röyksopp”<br />
[11] “bonobo” “the decemberists”<br />
[13] “snow patrol” “battles”<br />
[15] “the prodigy” “pink floyd”<br />
[17] “rjd2” “the flaming lips”<br />
[19] “michael jackson” “mgmt”<br />
[21] “the rolling stones” “late of the pier”<br />
[23] “flight of the conchords” “simian mobile disco”<br />
[25] “muse” “fleetwood mac”<br />
[27] “led zeppelin”</p>
<p>$<code>5</code>
[1] “dream theater” “ac/dc”<br />
[3] “metallica” “iron maiden”<br />
[5] “bob marley &amp; the wailers” “megadeth”<br />
[7] “children of bodom” “trivium”<br />
[9] “nightwish” “sublime”<br />
[11] “volbeat”</p>
<p>$<code>6</code>
[1] “lily allen” “kanye west” “sigur rós”<br />
[4] “pink floyd” “stevie wonder” “metallica”<br />
[7] “thievery corporation” “iron maiden” “the streets”<br />
[10] “muse” “faith no more” “manu chao”<br />
[13] “tenacious d” “depeche mode” “justin timberlake”<br />
[16] “green day” “snow patrol” “dream theater”<br />
[19] “u2” “jay-z” “type o negative”<br />
[22] “pearl jam” “queen”</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="arulesviz.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># en la versión actual de R esto va bien</span></span>
<span id="cb51-2"><a href="arulesviz.html#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co">#error ¿? (en versiones anteriores de R daba error, si os pasa intentar siguientes comandos)</span></span>
<span id="cb51-3"><a href="arulesviz.html#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="co">#lista.musica.por.usuario2 &lt;- as(lapply(lista.musica.por.usuario, &quot;[[&quot;, 1), &quot;transactions&quot;)</span></span>
<span id="cb51-4"><a href="arulesviz.html#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="co">#lista.musica.por.usuario2</span></span></code></pre></div>
<p>Visualizamos lo que hemos conseguido hasta el momento:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="arulesviz.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(lista.musica.por.usuario1)</span></code></pre></div>
<p>Formal class ‘transactions’ [package “arules”] with 3 slots
..@ data :Formal class ‘ngCMatrix’ [package “Matrix”] with 5 slots
.. .. ..@ i : int [1:289953] 280 288 299 373 383 429 457 468 512 714 …
.. .. ..@ p : int [1:15001] 0 16 45 72 83 106 128 147 177 184 …
.. .. ..@ Dim : int [1:2] 1004 15000
.. .. ..@ Dimnames:List of 2
.. .. .. ..$ : NULL
.. .. .. ..$ : NULL
.. .. ..@ factors : list()
..@ itemInfo :‘data.frame’: 1004 obs. of 1 variable:
.. ..$ labels: chr [1:1004] “…and you will know us by the trail of dead” “[unknown]” “2pac” “3 doors down” …
..@ itemsetInfo:‘data.frame’: 15000 obs. of 1 variable:
.. ..$ transactionID: chr [1:15000] “1” “3” “4” “5” …</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="arulesviz.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write</span>(<span class="fu">head</span>(lista.musica.por.usuario1))</span></code></pre></div>
<p>“dropkick murphys” “edguy” “eluveitie” “goldfrapp” “guano apes” “jack johnson” “john mayer” “judas priest” “le tigre” “red hot chili peppers” “rob zombie” “schandmaul” “the black dahlia murder” “the killers” “the rolling stones” “the who”
“aesop rock” “air” “amon tobin” “animal collective” “aphex twin” “arcade fire” “atmosphere” “autechre” “beastie boys” “boards of canada” “broken social scene” “cocorosie” “devendra banhart” “four tet” “goldfrapp” “joanna newsom” “m83” “massive attack” “max richter” “mf doom” “neutral milk hotel” “pavement” “plaid” “portishead” “prefuse 73” “radiohead” “sage francis” “the books” “the flashbulb”
“a tribe called quest” “air” “battles” “beck” “bon iver” “bonobo” “dj shadow” “fleetwood mac” “flight of the conchords” “kyuss” “late of the pier” “led zeppelin” “mgmt” “michael jackson” “muse” “pink floyd” “rjd2” “röyksopp” “simian mobile disco” “snow patrol” “the cinematic orchestra” “the decemberists” “the flaming lips” “the prodigy” “the rolling stones” “tool” “tv on the radio”
“ac/dc” “bob marley &amp; the wailers” “children of bodom” “dream theater” “iron maiden” “megadeth” “metallica” “nightwish” “sublime” “trivium” “volbeat”
“depeche mode” “dream theater” “faith no more” “green day” “iron maiden” “jay-z” “justin timberlake” “kanye west” “lily allen” “manu chao” “metallica” “muse” “pearl jam” “pink floyd” “queen” “sigur rós” “snow patrol” “stevie wonder” “tenacious d” “the streets” “thievery corporation” “type o negative” “u2”
“ac/dc” “aerosmith” “alice in chains” “audioslave” “buckethead” “camel” “disturbed” “dream theater” “jethro tull” “king crimson” “led zeppelin” “oasis” “pearl jam” “pink floyd” “porcupine tree” “rammstein” “rush” “soundgarden” “stone temple pilots” “the verve” “tool” “type o negative”</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="arulesviz.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write</span>(<span class="fu">head</span>(lista.musica.por.usuario1),<span class="at">format=</span><span class="st">&quot;single&quot;</span>)</span></code></pre></div>
<p>“1” “dropkick murphys”
“1” “edguy”
“1” “eluveitie”
“1” “goldfrapp”
“1” “guano apes”
“1” “jack johnson”
“1” “john mayer”
“1” “judas priest”
“1” “le tigre”
“1” “red hot chili peppers”
“1” “rob zombie”
“1” “schandmaul”
“1” “the black dahlia murder”
“1” “the killers”
“1” “the rolling stones”
“1” “the who”
“3” “aesop rock”
“3” “air”
“3” “amon tobin”
“3” “animal collective”
“3” “aphex twin”
“3” “arcade fire”
“3” “atmosphere”
“3” “autechre”
“3” “beastie boys”
“3” “boards of canada”
“3” “broken social scene”
“3” “cocorosie”
“3” “devendra banhart”
“3” “four tet”
“3” “goldfrapp”
“3” “joanna newsom”
“3” “m83”
“3” “massive attack”
“3” “max richter”
“3” “mf doom”
“3” “neutral milk hotel”
“3” “pavement”
“3” “plaid”
“3” “portishead”
“3” “prefuse 73”
“3” “radiohead”
“3” “sage francis”
“3” “the books”
“3” “the flashbulb”
“4” “a tribe called quest”
“4” “air”
“4” “battles”
“4” “beck”
“4” “bon iver”
“4” “bonobo”
“4” “dj shadow”
“4” “fleetwood mac”
“4” “flight of the conchords”
“4” “kyuss”
“4” “late of the pier”
“4” “led zeppelin”
“4” “mgmt”
“4” “michael jackson”
“4” “muse”
“4” “pink floyd”
“4” “rjd2”
“4” “röyksopp”
“4” “simian mobile disco”
“4” “snow patrol”
“4” “the cinematic orchestra”
“4” “the decemberists”
“4” “the flaming lips”
“4” “the prodigy”
“4” “the rolling stones”
“4” “tool”
“4” “tv on the radio”
“5” “ac/dc”
“5” “bob marley &amp; the wailers”
“5” “children of bodom”
“5” “dream theater”
“5” “iron maiden”
“5” “megadeth”
“5” “metallica”
“5” “nightwish”
“5” “sublime”
“5” “trivium”
“5” “volbeat”
“6” “depeche mode”
“6” “dream theater”
“6” “faith no more”
“6” “green day”
“6” “iron maiden”
“6” “jay-z”
“6” “justin timberlake”
“6” “kanye west”
“6” “lily allen”
“6” “manu chao”
“6” “metallica”
“6” “muse”
“6” “pearl jam”
“6” “pink floyd”
“6” “queen”
“6” “sigur rós”
“6” “snow patrol”
“6” “stevie wonder”
“6” “tenacious d”
“6” “the streets”
“6” “thievery corporation”
“6” “type o negative”
“6” “u2”
“7” “ac/dc”
“7” “aerosmith”
“7” “alice in chains”
“7” “audioslave”
“7” “buckethead”
“7” “camel”
“7” “disturbed”
“7” “dream theater”
“7” “jethro tull”
“7” “king crimson”
“7” “led zeppelin”
“7” “oasis”
“7” “pearl jam”
“7” “pink floyd”
“7” “porcupine tree”
“7” “rammstein”
“7” “rush”
“7” “soundgarden”
“7” “stone temple pilots”
“7” “the verve”
“7” “tool”
“7” “type o negative”</p>
<p>Es una lista de transacciones - clase de datos definida en arules. Calculamos la frecuencia relativa de las canciones escuchadas:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="arulesviz.html#cb55-1" aria-hidden="true" tabindex="-1"></a>itfreq1  <span class="ot">&lt;-</span><span class="fu">itemFrequency</span>(lista.musica.por.usuario1)</span>
<span id="cb55-2"><a href="arulesviz.html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(itfreq1)</span></code></pre></div>
<p>…and you will know us by the trail of dead
0.009800000
[unknown]
0.036866667
2pac
0.022733333
3 doors down
0.030933333
30 seconds to mars
0.032800000
311
0.008333333</p>
<p><em>itfreq1</em>:</p>
<ul>
<li>es una vector numérico</li>
<li>los nombres de la lista (names(itfreq), los nombres de cada grupo )</li>
<li>cada posición por tanto es la frecuencia del grupo de esa posición</li>
</ul>
<p>Dibujar las frecuencias usando la lista de transacciones obtenida:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="arulesviz.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">itemFrequencyPlot</span>(lista.musica.por.usuario1,<span class="at">support=</span>.<span class="dv">08</span>,<span class="at">cex.names=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/itemFrequencyPlot-1.png" width="672" /></p>
<p>Y obtenemos las reglas de asociación con soporte 0.1 y confianza 0.5:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="arulesviz.html#cb57-1" aria-hidden="true" tabindex="-1"></a>reglas2 <span class="ot">&lt;-</span> <span class="fu">apriori</span>(lista.musica.por.usuario1,<span class="at">parameter=</span></span>
<span id="cb57-2"><a href="arulesviz.html#cb57-2" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">list</span>(<span class="at">support=</span>.<span class="dv">01</span>, <span class="at">confidence=</span>.<span class="dv">5</span>))</span></code></pre></div>
<p>Apriori</p>
<p>Parameter specification:
confidence minval smax arem aval originalSupport maxtime support minlen
0.5 0.1 1 none FALSE TRUE 5 0.01 1
maxlen target ext
10 rules TRUE</p>
<p>Algorithmic control:
filter tree heap memopt load sort verbose
0.1 TRUE TRUE FALSE TRUE 2 TRUE</p>
<p>Absolute minimum support count: 150</p>
<p>set item appearances …[0 item(s)] done [0.00s].
set transactions …[1004 item(s), 15000 transaction(s)] done [0.04s].
sorting and recoding items … [655 item(s)] done [0.00s].
creating transaction tree … done [0.00s].
checking subsets of size 1 2 3 4 done [0.01s].
writing … [50 rule(s)] done [0.00s].
creating S4 object … done [0.00s].</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="arulesviz.html#cb58-1" aria-hidden="true" tabindex="-1"></a>reglas2</span></code></pre></div>
<p>set of 50 rules</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="arulesviz.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inspect</span>(reglas2)</span></code></pre></div>
<pre><code> lhs                                     rhs            support   </code></pre>
<p>[1] {t.i.} =&gt; {kanye west} 0.01040000
[2] {the pussycat dolls} =&gt; {rihanna} 0.01040000
[3] {the fray} =&gt; {coldplay} 0.01126667
[4] {sonata arctica} =&gt; {nightwish} 0.01346667
[5] {judas priest} =&gt; {iron maiden} 0.01353333
[6] {the kinks} =&gt; {the beatles} 0.01360000
[7] {travis} =&gt; {coldplay} 0.01373333
[8] {the flaming lips} =&gt; {radiohead} 0.01306667
[9] {megadeth} =&gt; {metallica} 0.01626667
[10] {simon &amp; garfunkel} =&gt; {the beatles} 0.01540000
[11] {broken social scene} =&gt; {radiohead} 0.01506667
[12] {blur} =&gt; {radiohead} 0.01753333
[13] {keane} =&gt; {coldplay} 0.02226667
[14] {snow patrol} =&gt; {coldplay} 0.02646667
[15] {beck} =&gt; {radiohead} 0.02926667
[16] {snow patrol, the killers} =&gt; {coldplay} 0.01040000
[17] {radiohead, snow patrol} =&gt; {coldplay} 0.01006667
[18] {death cab for cutie, the shins} =&gt; {radiohead} 0.01006667
[19] {the beatles, the shins} =&gt; {radiohead} 0.01066667
[20] {led zeppelin, the doors} =&gt; {pink floyd} 0.01066667
[21] {pink floyd, the doors} =&gt; {led zeppelin} 0.01066667
[22] {pink floyd, the doors} =&gt; {the beatles} 0.01000000
[23] {the beatles, the strokes} =&gt; {radiohead} 0.01046667
[24] {oasis, the killers} =&gt; {coldplay} 0.01113333
[25] {oasis, the beatles} =&gt; {coldplay} 0.01060000
[26] {oasis, radiohead} =&gt; {coldplay} 0.01273333
[27] {beck, the beatles} =&gt; {radiohead} 0.01300000
[28] {bob dylan, the rolling stones} =&gt; {the beatles} 0.01146667
[29] {david bowie, the rolling stones} =&gt; {the beatles} 0.01000000
[30] {led zeppelin, the rolling stones} =&gt; {the beatles} 0.01066667
[31] {radiohead, the rolling stones} =&gt; {the beatles} 0.01060000
[32] {coldplay, the smashing pumpkins} =&gt; {radiohead} 0.01093333
[33] {the beatles, the smashing pumpkins} =&gt; {radiohead} 0.01146667
[34] {radiohead, u2} =&gt; {coldplay} 0.01140000
[35] {coldplay, sigur rós} =&gt; {radiohead} 0.01206667
[36] {sigur rós, the beatles} =&gt; {radiohead} 0.01046667
[37] {bob dylan, pink floyd} =&gt; {the beatles} 0.01033333
[38] {bob dylan, radiohead} =&gt; {the beatles} 0.01386667
[39] {bloc party, the killers} =&gt; {coldplay} 0.01106667
[40] {david bowie, pink floyd} =&gt; {the beatles} 0.01006667
[41] {david bowie, radiohead} =&gt; {the beatles} 0.01393333
[42] {placebo, radiohead} =&gt; {muse} 0.01366667
[43] {led zeppelin, radiohead} =&gt; {the beatles} 0.01306667
[44] {death cab for cutie, the killers} =&gt; {coldplay} 0.01086667
[45] {death cab for cutie, the beatles} =&gt; {radiohead} 0.01246667
[46] {muse, the killers} =&gt; {coldplay} 0.01513333
[47] {red hot chili peppers, the killers} =&gt; {coldplay} 0.01086667
[48] {the beatles, the killers} =&gt; {coldplay} 0.01253333
[49] {radiohead, the killers} =&gt; {coldplay} 0.01506667
[50] {muse, the beatles} =&gt; {radiohead} 0.01380000
confidence coverage lift count
[1] 0.5672727 0.01833333 8.854413 156<br />
[2] 0.5777778 0.01800000 13.415893 156<br />
[3] 0.5168196 0.02180000 3.260006 169<br />
[4] 0.5101010 0.02640000 8.236292 202<br />
[5] 0.5075000 0.02666667 8.562992 203<br />
[6] 0.5298701 0.02566667 2.979030 204<br />
[7] 0.5628415 0.02440000 3.550304 206<br />
[8] 0.5297297 0.02466667 2.938589 196<br />
[9] 0.5281385 0.03080000 4.743759 244<br />
[10] 0.5238095 0.02940000 2.944956 231<br />
[11] 0.5472155 0.02753333 3.035589 226<br />
[12] 0.5228628 0.03353333 2.900496 263<br />
[13] 0.6374046 0.03493333 4.020634 334<br />
[14] 0.5251323 0.05040000 3.312441 397<br />
[15] 0.5092807 0.05746667 2.825152 439<br />
[16] 0.5954198 0.01746667 3.755802 156<br />
[17] 0.6344538 0.01586667 4.002021 151<br />
[18] 0.5033333 0.02000000 2.792160 151<br />
[19] 0.5673759 0.01880000 3.147425 160<br />
[20] 0.5970149 0.01786667 5.689469 160<br />
[21] 0.5387205 0.01980000 6.802027 160<br />
[22] 0.5050505 0.01980000 2.839489 150<br />
[23] 0.5607143 0.01866667 3.110471 157<br />
[24] 0.6626984 0.01680000 4.180183 167<br />
[25] 0.5196078 0.02040000 3.277594 159<br />
[26] 0.5876923 0.02166667 3.707058 191<br />
[27] 0.5909091 0.02200000 3.277972 195<br />
[28] 0.5910653 0.01940000 3.323081 172<br />
[29] 0.5703422 0.01753333 3.206572 150<br />
[30] 0.5776173 0.01846667 3.247474 160<br />
[31] 0.5638298 0.01880000 3.169958 159<br />
[32] 0.6283525 0.01740000 3.485683 164<br />
[33] 0.6209386 0.01846667 3.444556 172<br />
[34] 0.5213415 0.02186667 3.288529 171<br />
[35] 0.5801282 0.02080000 3.218167 181<br />
[36] 0.6434426 0.01626667 3.569393 157<br />
[37] 0.6150794 0.01680000 3.458092 155<br />
[38] 0.5730028 0.02420000 3.221530 208<br />
[39] 0.5236593 0.02113333 3.303150 166<br />
[40] 0.5741445 0.01753333 3.227949 151<br />
[41] 0.5225000 0.02666667 2.937594 209<br />
[42] 0.5137845 0.02660000 4.504247 205<br />
[43] 0.5283019 0.02473333 2.970213 196<br />
[44] 0.5884477 0.01846667 3.711823 163<br />
[45] 0.5013405 0.02486667 2.781105 187<br />
[46] 0.5089686 0.02973333 3.210483 227<br />
[47] 0.5093750 0.02133333 3.213047 163<br />
[48] 0.5340909 0.02346667 3.368950 188<br />
[49] 0.5243619 0.02873333 3.307582 226<br />
[50] 0.5073529 0.02720000 2.814458 207</p>
</div>
<div id="sistema-de-recomendación" class="section level2 hasAnchor" number="10.2">
<h2><span class="header-section-number">10.2</span> Sistema de recomendación<a href="arulesviz.html#sistema-de-recomendación" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Primero nos quedamos con las reglas más interesantes. Filtramos aquellas con lift mayor que 1:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="arulesviz.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inspect</span>(<span class="fu">subset</span>(reglas2, <span class="at">subset=</span>lift <span class="sc">&gt;</span> <span class="dv">1</span>))</span></code></pre></div>
<pre><code> lhs                                     rhs            support   </code></pre>
<p>[1] {t.i.} =&gt; {kanye west} 0.01040000
[2] {the pussycat dolls} =&gt; {rihanna} 0.01040000
[3] {the fray} =&gt; {coldplay} 0.01126667
[4] {sonata arctica} =&gt; {nightwish} 0.01346667
[5] {judas priest} =&gt; {iron maiden} 0.01353333
[6] {the kinks} =&gt; {the beatles} 0.01360000
[7] {travis} =&gt; {coldplay} 0.01373333
[8] {the flaming lips} =&gt; {radiohead} 0.01306667
[9] {megadeth} =&gt; {metallica} 0.01626667
[10] {simon &amp; garfunkel} =&gt; {the beatles} 0.01540000
[11] {broken social scene} =&gt; {radiohead} 0.01506667
[12] {blur} =&gt; {radiohead} 0.01753333
[13] {keane} =&gt; {coldplay} 0.02226667
[14] {snow patrol} =&gt; {coldplay} 0.02646667
[15] {beck} =&gt; {radiohead} 0.02926667
[16] {snow patrol, the killers} =&gt; {coldplay} 0.01040000
[17] {radiohead, snow patrol} =&gt; {coldplay} 0.01006667
[18] {death cab for cutie, the shins} =&gt; {radiohead} 0.01006667
[19] {the beatles, the shins} =&gt; {radiohead} 0.01066667
[20] {led zeppelin, the doors} =&gt; {pink floyd} 0.01066667
[21] {pink floyd, the doors} =&gt; {led zeppelin} 0.01066667
[22] {pink floyd, the doors} =&gt; {the beatles} 0.01000000
[23] {the beatles, the strokes} =&gt; {radiohead} 0.01046667
[24] {oasis, the killers} =&gt; {coldplay} 0.01113333
[25] {oasis, the beatles} =&gt; {coldplay} 0.01060000
[26] {oasis, radiohead} =&gt; {coldplay} 0.01273333
[27] {beck, the beatles} =&gt; {radiohead} 0.01300000
[28] {bob dylan, the rolling stones} =&gt; {the beatles} 0.01146667
[29] {david bowie, the rolling stones} =&gt; {the beatles} 0.01000000
[30] {led zeppelin, the rolling stones} =&gt; {the beatles} 0.01066667
[31] {radiohead, the rolling stones} =&gt; {the beatles} 0.01060000
[32] {coldplay, the smashing pumpkins} =&gt; {radiohead} 0.01093333
[33] {the beatles, the smashing pumpkins} =&gt; {radiohead} 0.01146667
[34] {radiohead, u2} =&gt; {coldplay} 0.01140000
[35] {coldplay, sigur rós} =&gt; {radiohead} 0.01206667
[36] {sigur rós, the beatles} =&gt; {radiohead} 0.01046667
[37] {bob dylan, pink floyd} =&gt; {the beatles} 0.01033333
[38] {bob dylan, radiohead} =&gt; {the beatles} 0.01386667
[39] {bloc party, the killers} =&gt; {coldplay} 0.01106667
[40] {david bowie, pink floyd} =&gt; {the beatles} 0.01006667
[41] {david bowie, radiohead} =&gt; {the beatles} 0.01393333
[42] {placebo, radiohead} =&gt; {muse} 0.01366667
[43] {led zeppelin, radiohead} =&gt; {the beatles} 0.01306667
[44] {death cab for cutie, the killers} =&gt; {coldplay} 0.01086667
[45] {death cab for cutie, the beatles} =&gt; {radiohead} 0.01246667
[46] {muse, the killers} =&gt; {coldplay} 0.01513333
[47] {red hot chili peppers, the killers} =&gt; {coldplay} 0.01086667
[48] {the beatles, the killers} =&gt; {coldplay} 0.01253333
[49] {radiohead, the killers} =&gt; {coldplay} 0.01506667
[50] {muse, the beatles} =&gt; {radiohead} 0.01380000
confidence coverage lift count
[1] 0.5672727 0.01833333 8.854413 156<br />
[2] 0.5777778 0.01800000 13.415893 156<br />
[3] 0.5168196 0.02180000 3.260006 169<br />
[4] 0.5101010 0.02640000 8.236292 202<br />
[5] 0.5075000 0.02666667 8.562992 203<br />
[6] 0.5298701 0.02566667 2.979030 204<br />
[7] 0.5628415 0.02440000 3.550304 206<br />
[8] 0.5297297 0.02466667 2.938589 196<br />
[9] 0.5281385 0.03080000 4.743759 244<br />
[10] 0.5238095 0.02940000 2.944956 231<br />
[11] 0.5472155 0.02753333 3.035589 226<br />
[12] 0.5228628 0.03353333 2.900496 263<br />
[13] 0.6374046 0.03493333 4.020634 334<br />
[14] 0.5251323 0.05040000 3.312441 397<br />
[15] 0.5092807 0.05746667 2.825152 439<br />
[16] 0.5954198 0.01746667 3.755802 156<br />
[17] 0.6344538 0.01586667 4.002021 151<br />
[18] 0.5033333 0.02000000 2.792160 151<br />
[19] 0.5673759 0.01880000 3.147425 160<br />
[20] 0.5970149 0.01786667 5.689469 160<br />
[21] 0.5387205 0.01980000 6.802027 160<br />
[22] 0.5050505 0.01980000 2.839489 150<br />
[23] 0.5607143 0.01866667 3.110471 157<br />
[24] 0.6626984 0.01680000 4.180183 167<br />
[25] 0.5196078 0.02040000 3.277594 159<br />
[26] 0.5876923 0.02166667 3.707058 191<br />
[27] 0.5909091 0.02200000 3.277972 195<br />
[28] 0.5910653 0.01940000 3.323081 172<br />
[29] 0.5703422 0.01753333 3.206572 150<br />
[30] 0.5776173 0.01846667 3.247474 160<br />
[31] 0.5638298 0.01880000 3.169958 159<br />
[32] 0.6283525 0.01740000 3.485683 164<br />
[33] 0.6209386 0.01846667 3.444556 172<br />
[34] 0.5213415 0.02186667 3.288529 171<br />
[35] 0.5801282 0.02080000 3.218167 181<br />
[36] 0.6434426 0.01626667 3.569393 157<br />
[37] 0.6150794 0.01680000 3.458092 155<br />
[38] 0.5730028 0.02420000 3.221530 208<br />
[39] 0.5236593 0.02113333 3.303150 166<br />
[40] 0.5741445 0.01753333 3.227949 151<br />
[41] 0.5225000 0.02666667 2.937594 209<br />
[42] 0.5137845 0.02660000 4.504247 205<br />
[43] 0.5283019 0.02473333 2.970213 196<br />
[44] 0.5884477 0.01846667 3.711823 163<br />
[45] 0.5013405 0.02486667 2.781105 187<br />
[46] 0.5089686 0.02973333 3.210483 227<br />
[47] 0.5093750 0.02133333 3.213047 163<br />
[48] 0.5340909 0.02346667 3.368950 188<br />
[49] 0.5243619 0.02873333 3.307582 226<br />
[50] 0.5073529 0.02720000 2.814458 207</p>
<p>Ordenamos por confianza estas reglas anteriores:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="arulesviz.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inspect</span>(<span class="fu">sort</span>(<span class="fu">subset</span>(reglas2, <span class="at">subset=</span>lift <span class="sc">&gt;</span> <span class="dv">1</span>), <span class="at">by=</span><span class="st">&quot;confidence&quot;</span>))</span></code></pre></div>
<pre><code> lhs                                     rhs            support   </code></pre>
<p>[1] {oasis, the killers} =&gt; {coldplay} 0.01113333
[2] {sigur rós, the beatles} =&gt; {radiohead} 0.01046667
[3] {keane} =&gt; {coldplay} 0.02226667
[4] {radiohead, snow patrol} =&gt; {coldplay} 0.01006667
[5] {coldplay, the smashing pumpkins} =&gt; {radiohead} 0.01093333
[6] {the beatles, the smashing pumpkins} =&gt; {radiohead} 0.01146667
[7] {bob dylan, pink floyd} =&gt; {the beatles} 0.01033333
[8] {led zeppelin, the doors} =&gt; {pink floyd} 0.01066667
[9] {snow patrol, the killers} =&gt; {coldplay} 0.01040000
[10] {bob dylan, the rolling stones} =&gt; {the beatles} 0.01146667
[11] {beck, the beatles} =&gt; {radiohead} 0.01300000
[12] {death cab for cutie, the killers} =&gt; {coldplay} 0.01086667
[13] {oasis, radiohead} =&gt; {coldplay} 0.01273333
[14] {coldplay, sigur rós} =&gt; {radiohead} 0.01206667
[15] {the pussycat dolls} =&gt; {rihanna} 0.01040000
[16] {led zeppelin, the rolling stones} =&gt; {the beatles} 0.01066667
[17] {david bowie, pink floyd} =&gt; {the beatles} 0.01006667
[18] {bob dylan, radiohead} =&gt; {the beatles} 0.01386667
[19] {david bowie, the rolling stones} =&gt; {the beatles} 0.01000000
[20] {the beatles, the shins} =&gt; {radiohead} 0.01066667
[21] {t.i.} =&gt; {kanye west} 0.01040000
[22] {radiohead, the rolling stones} =&gt; {the beatles} 0.01060000
[23] {travis} =&gt; {coldplay} 0.01373333
[24] {the beatles, the strokes} =&gt; {radiohead} 0.01046667
[25] {broken social scene} =&gt; {radiohead} 0.01506667
[26] {pink floyd, the doors} =&gt; {led zeppelin} 0.01066667
[27] {the beatles, the killers} =&gt; {coldplay} 0.01253333
[28] {the kinks} =&gt; {the beatles} 0.01360000
[29] {the flaming lips} =&gt; {radiohead} 0.01306667
[30] {led zeppelin, radiohead} =&gt; {the beatles} 0.01306667
[31] {megadeth} =&gt; {metallica} 0.01626667
[32] {snow patrol} =&gt; {coldplay} 0.02646667
[33] {radiohead, the killers} =&gt; {coldplay} 0.01506667
[34] {simon &amp; garfunkel} =&gt; {the beatles} 0.01540000
[35] {bloc party, the killers} =&gt; {coldplay} 0.01106667
[36] {blur} =&gt; {radiohead} 0.01753333
[37] {david bowie, radiohead} =&gt; {the beatles} 0.01393333
[38] {radiohead, u2} =&gt; {coldplay} 0.01140000
[39] {oasis, the beatles} =&gt; {coldplay} 0.01060000
[40] {the fray} =&gt; {coldplay} 0.01126667
[41] {placebo, radiohead} =&gt; {muse} 0.01366667
[42] {sonata arctica} =&gt; {nightwish} 0.01346667
[43] {red hot chili peppers, the killers} =&gt; {coldplay} 0.01086667
[44] {beck} =&gt; {radiohead} 0.02926667
[45] {muse, the killers} =&gt; {coldplay} 0.01513333
[46] {judas priest} =&gt; {iron maiden} 0.01353333
[47] {muse, the beatles} =&gt; {radiohead} 0.01380000
[48] {pink floyd, the doors} =&gt; {the beatles} 0.01000000
[49] {death cab for cutie, the shins} =&gt; {radiohead} 0.01006667
[50] {death cab for cutie, the beatles} =&gt; {radiohead} 0.01246667
confidence coverage lift count
[1] 0.6626984 0.01680000 4.180183 167<br />
[2] 0.6434426 0.01626667 3.569393 157<br />
[3] 0.6374046 0.03493333 4.020634 334<br />
[4] 0.6344538 0.01586667 4.002021 151<br />
[5] 0.6283525 0.01740000 3.485683 164<br />
[6] 0.6209386 0.01846667 3.444556 172<br />
[7] 0.6150794 0.01680000 3.458092 155<br />
[8] 0.5970149 0.01786667 5.689469 160<br />
[9] 0.5954198 0.01746667 3.755802 156<br />
[10] 0.5910653 0.01940000 3.323081 172<br />
[11] 0.5909091 0.02200000 3.277972 195<br />
[12] 0.5884477 0.01846667 3.711823 163<br />
[13] 0.5876923 0.02166667 3.707058 191<br />
[14] 0.5801282 0.02080000 3.218167 181<br />
[15] 0.5777778 0.01800000 13.415893 156<br />
[16] 0.5776173 0.01846667 3.247474 160<br />
[17] 0.5741445 0.01753333 3.227949 151<br />
[18] 0.5730028 0.02420000 3.221530 208<br />
[19] 0.5703422 0.01753333 3.206572 150<br />
[20] 0.5673759 0.01880000 3.147425 160<br />
[21] 0.5672727 0.01833333 8.854413 156<br />
[22] 0.5638298 0.01880000 3.169958 159<br />
[23] 0.5628415 0.02440000 3.550304 206<br />
[24] 0.5607143 0.01866667 3.110471 157<br />
[25] 0.5472155 0.02753333 3.035589 226<br />
[26] 0.5387205 0.01980000 6.802027 160<br />
[27] 0.5340909 0.02346667 3.368950 188<br />
[28] 0.5298701 0.02566667 2.979030 204<br />
[29] 0.5297297 0.02466667 2.938589 196<br />
[30] 0.5283019 0.02473333 2.970213 196<br />
[31] 0.5281385 0.03080000 4.743759 244<br />
[32] 0.5251323 0.05040000 3.312441 397<br />
[33] 0.5243619 0.02873333 3.307582 226<br />
[34] 0.5238095 0.02940000 2.944956 231<br />
[35] 0.5236593 0.02113333 3.303150 166<br />
[36] 0.5228628 0.03353333 2.900496 263<br />
[37] 0.5225000 0.02666667 2.937594 209<br />
[38] 0.5213415 0.02186667 3.288529 171<br />
[39] 0.5196078 0.02040000 3.277594 159<br />
[40] 0.5168196 0.02180000 3.260006 169<br />
[41] 0.5137845 0.02660000 4.504247 205<br />
[42] 0.5101010 0.02640000 8.236292 202<br />
[43] 0.5093750 0.02133333 3.213047 163<br />
[44] 0.5092807 0.05746667 2.825152 439<br />
[45] 0.5089686 0.02973333 3.210483 227<br />
[46] 0.5075000 0.02666667 8.562992 203<br />
[47] 0.5073529 0.02720000 2.814458 207<br />
[48] 0.5050505 0.01980000 2.839489 150<br />
[49] 0.5033333 0.02000000 2.792160 151<br />
[50] 0.5013405 0.02486667 2.781105 187</p>
<p><strong>¿Recomendación a usuarios que escuchan Coldplay?</strong>:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="arulesviz.html#cb65-1" aria-hidden="true" tabindex="-1"></a>r1 <span class="ot">&lt;-</span><span class="fu">subset</span>(reglas2, <span class="at">subset =</span> lhs <span class="sc">%ain%</span> </span>
<span id="cb65-2"><a href="arulesviz.html#cb65-2" aria-hidden="true" tabindex="-1"></a>         <span class="fu">c</span>(<span class="st">&quot;coldplay&quot;</span>))</span>
<span id="cb65-3"><a href="arulesviz.html#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="fu">inspect</span>(r1)</span></code></pre></div>
<pre><code>lhs                                  rhs         support    confidence</code></pre>
<p>[1] {coldplay, the smashing pumpkins} =&gt; {radiohead} 0.01093333 0.6283525
[2] {coldplay, sigur rós} =&gt; {radiohead} 0.01206667 0.5801282
coverage lift count
[1] 0.0174 3.485683 164<br />
[2] 0.0208 3.218167 181</p>
<p>Probad con otros grupos.</p>
<!-- # Afinidad -->
<!-- Se define la afinidad entre dos items  (Agrawal 2002) como   -->
<!-- $$A(i,j)=\frac{sup({i,j}))}{sup({i})+sup({j})-sup({i,j})}$$ -->
<!-- o lo que es lo mismo: -->
<!-- $$A(i,j)=\frac{\mid A \cap B}{\mid A \cup B\mid }$$ -->
<!-- ```{r} -->
<!-- inspect(head(lista.musica.por.usuario1)) -->
<!-- afi <- affinity(head(lista.musica.por.usuario1)) -->
<!-- View(afi) -->
<!-- image(afi) -->
<!-- ``` -->
<!-- Por un lado se  muestra la matriz de afinidad.  -->
<!-- La imagen  muestra la afinidad que tiene cada ítem con cada ítem del dataset de transacciones, cuanto mas se acerca al blanco mas afinidad existe entre ambos ítems. -->

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ejercicio-en-laboratorio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="social-network-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/02-reglasAsociacion.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
